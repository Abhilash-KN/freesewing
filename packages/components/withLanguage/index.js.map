{"version":3,"file":"index.js","sources":["../src/withLanguage/index.js"],"sourcesContent":["import React from 'react'\r\nimport { IntlProvider } from 'react-intl'\r\nimport { strings } from '@freesewing/i18n'\r\n\r\nconst withLanguage = (WrappedComponent, lang = 'en', store = false, translations = {}) => {\r\n  return class extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n      this.strings = strings\r\n      this.setLanguage = this.setLanguage.bind(this)\r\n      this.addTranslations = this.addTranslations.bind(this)\r\n      this.state = {\r\n        language: lang,\r\n        strings: this.strings[lang]\r\n      }\r\n    }\r\n\r\n    setLanguage(l) {\r\n      this.setState({\r\n        language: l,\r\n        strings: this.strings[l]\r\n      })\r\n    }\r\n\r\n    addTranslations(translations) {\r\n      this.setState({\r\n        language: this.state.language,\r\n        strings: {\r\n          ...this.strings[this.state.language],\r\n          ...translations\r\n        }\r\n      })\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <IntlProvider\r\n          locale={this.state.language}\r\n          messages={{\r\n            ...this.state.strings,\r\n            ...translations\r\n          }}\r\n        >\r\n          <WrappedComponent\r\n            language={this.state.language}\r\n            setLanguage={this.setLanguage}\r\n            addTranslations={this.addTranslations}\r\n            {...this.props}\r\n          />\r\n        </IntlProvider>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default withLanguage\r\n"],"names":["withLanguage","WrappedComponent","lang","translations","props","strings","setLanguage","_this","bind","addTranslations","state","language","l","setState","React","IntlProvider","locale","messages","Component"],"mappings":";;;;;m2FAIA,GAAMA,CAAAA,YAAY,CAAG,SAACC,CAAD,CAAqE,IAAlDC,CAAAA,CAAkD,wDAA3C,IAA2C,CAAtBC,CAAsB,wDAAP,EAAO,+BAE1EC,EAAO,oDACXA,KACDC,QAAUA,eACVC,YAAcC,EAAKD,WAAL,CAAiBE,IAAjB,0BAAA,IACdC,gBAAkBF,EAAKE,eAAL,CAAqBD,IAArB,0BAAA,IAClBE,MAAQ,CACXC,QAAQ,CAAET,CADC,CAEXG,OAAO,CAAEE,EAAKF,OAAL,CAAaH,CAAb,CAFE,kGAMHU,EAAG,MACRC,SAAS,CACZF,QAAQ,CAAEC,CADE,CAEZP,OAAO,CAAE,KAAKA,OAAL,CAAaO,CAAb,CAFG,2CAMAT,EAAc,MACvBU,SAAS,CACZF,QAAQ,CAAE,KAAKD,KAAL,CAAWC,QADT,CAEZN,OAAO,mBACF,KAAKA,OAAL,CAAa,KAAKK,KAAL,CAAWC,QAAxB,KACAR,EAJO,mCASP,OAELW,CAAAA,mBAAA,CAACC,sBAAD,EACEC,MAAM,CAAE,KAAKN,KAAL,CAAWC,SACnBM,QAAQ,mBACH,KAAKP,KAAL,CAAWL,WACXF,GAJP,CAOEW,mBAAA,CAACb,CAAD,WACEU,QAAQ,CAAE,KAAKD,KAAL,CAAWC,SACrBL,WAAW,CAAE,KAAKA,YAClBG,eAAe,CAAE,KAAKA,iBAClB,KAAKL,MAJX,CAPF,SA/BeU,KAAK,CAACI,UAD7B,CAAA"}