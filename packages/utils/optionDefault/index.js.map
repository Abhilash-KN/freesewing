{"version":3,"file":"index.js","sources":["../src/optionType/index.js","../src/optionDefault/index.js"],"sourcesContent":["const optionType = option => {\r\n  if (typeof option === \"object\") {\r\n    if (typeof option.pct !== \"undefined\") return \"pct\";\r\n    if (typeof option.mm !== \"undefined\") return \"mm\";\r\n    if (typeof option.deg !== \"undefined\") return \"deg\";\r\n    if (typeof option.count !== \"undefined\") return \"count\";\r\n    if (typeof option.bool !== \"undefined\") return \"bool\";\r\n    if (typeof option.list !== \"undefined\") return \"list\";\r\n    return \"unknown\";\r\n  }\r\n\r\n  return \"constant\";\r\n};\r\n\r\nexport default optionType;\r\n","import optionType from '../optionType'\r\n\r\nconst optionDefault = (name, option, recipe) => {\r\n  let type = optionType(option)\r\n  // Default from recipe?\r\n  let fromRecipe = false\r\n  if (\r\n    recipe &&\r\n    typeof recipe.settings !== 'undefined' &&\r\n    typeof recipe.settings.options !== 'undefined' &&\r\n    typeof recipe.settings.options[name] !== 'undefined'\r\n  )\r\n    fromRecipe = true\r\n\r\n  switch (type) {\r\n    case 'constant':\r\n      return option\r\n      break\r\n    case 'list':\r\n      if (fromRecipe) return recipe.settings.options[name]\r\n      return option.dflt\r\n      break\r\n    default:\r\n      let factor = type === 'pct' ? 100 : 1\r\n      if (fromRecipe) return Math.round(10 * recipe.settings.options[name] * factor) / 10\r\n      else return option[type]\r\n      break\r\n  }\r\n}\r\n\r\nexport default optionDefault\r\n"],"names":["optionType","option","pct","mm","deg","count","bool","list","optionDefault","name","recipe","Math","round","type","fromRecipe","settings","options","dflt","factor"],"mappings":";;;;;qBAAMA,CAAAA,UAAU,CAAGC,CAAM,EACD,QAAlB,QAAOA,CAAAA,CADY,CAEK,WAAtB,QAAOA,CAAAA,CAAM,CAACC,GAFG,CAGI,WAArB,QAAOD,CAAAA,CAAM,CAACE,EAHG,CAIK,WAAtB,QAAOF,CAAAA,CAAM,CAACG,GAJG,CAKO,WAAxB,QAAOH,CAAAA,CAAM,CAACI,KALG,CAMM,WAAvB,QAAOJ,CAAAA,CAAM,CAACK,IANG,CAOM,WAAvB,QAAOL,CAAAA,CAAM,CAACM,IAPG,CAQd,SARc,CAO0B,MAP1B,CAM0B,MAN1B,CAK2B,OAL3B,CAIyB,KAJzB,CAGwB,IAHxB,CAEyB,KAFzB,CAWhB,WCTHC,aAAa,CAAG,CAACC,CAAD,CAAOR,CAAP,CAAeS,CAAf,GAA0B,OAsBnBC,IAAI,CAACC,KAtBc,IAC1CC,CAAAA,CAAI,CAAGb,UAAU,CAACC,CAAD,CADyB,CAG1Ca,CAAU,GAHgC,QAK5CJ,CAAM,EACqB,WAA3B,QAAOA,CAAAA,CAAM,CAACK,QADdL,EAEmC,WAAnC,QAAOA,CAAAA,CAAM,CAACK,QAAPL,CAAgBM,OAFvBN,EAGyC,WAAzC,QAAOA,CAAAA,CAAM,CAACK,QAAPL,CAAgBM,OAAhBN,CAAwBD,CAAxBC,IAEPI,CAAU,KAEJD,OACD,iBACIZ,CAAAA,MAEJ,aACCa,CAAAA,EAAmBJ,CAAM,CAACK,QAAPL,CAAgBM,OAAhBN,CAAwBD,CAAxBC,EAChBT,CAAM,CAACgB,gBAGVC,CAAAA,CAAM,CAAY,KAATL,GAAAA,CAAI,CAAa,GAAb,CAAmB,QAChCC,CAAAA,EAAmBH,EAAW,GAAKD,CAAM,CAACK,QAAPL,CAAgBM,OAAhBN,CAAwBD,CAAxBC,CAAL,CAAqCQ,CAAhDP,EAA0D,GACrEV,CAAM,CAACY,CAAD,GAvBxB"}